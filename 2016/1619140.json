{
 "awd_id": "1619140",
 "agcy_id": "NSF",
 "tran_type": "Grant",
 "awd_istr_txt": "Standard Grant",
 "awd_titl_txt": "SHF: Small: Collaborative Research: Explore, Understand, and Build a New Profiling Framework for Managed Language Virtual Machines",
 "cfda_num": "47.070",
 "org_code": "05010000",
 "po_phone": "7032927885",
 "po_email": "abanerje@nsf.gov",
 "po_sign_block_name": "Anindya Banerjee",
 "awd_eff_date": "2016-06-01",
 "awd_exp_date": "2020-05-31",
 "tot_intn_awd_amt": 224943.0,
 "awd_amount": 240943.0,
 "awd_min_amd_letter_date": "2016-05-31",
 "awd_max_amd_letter_date": "2017-01-12",
 "awd_abstract_narration": "Program profiling is a fundamental and powerful technique to discover, understand and reason about the dynamic or run-time behavior of a program. Existing run-time systems (or Virtual Machines, VM) for managed languages vastly under-utilize the potential of profiling systems, which results in severe performance losses, and increases costs or curtails the suitability of VMs in many domains. The goal of this research is to understand and resolve the limitations that restrict the applicability and effectiveness of program profiling. The intellectual merits are to develop a complete understanding of the fundamental characteristics of program profiling, its limitations and its impact on the effectiveness of dependent optimizations, build a comprehensive and structured profiling framework to increase the efficiency and ease the adoption of profiling mechanisms during VM tasks, and set the stage for increased employment and realized benefits from adaptive optimizations in a VM. The project's broader significance and importance are to deploy managed run-time environments in diverse domains that include the web/Internet, desktop, server, cloud-computing, and mobile systems.\r\n\r\nThe research aims to: (a) develop a deeper fundamental understanding of the benefits and limitations of different profiling strategies, and their impact on the effectiveness and performance of feedback-directed optimizations (FDOs), (b) conduct research and engineering that applies this understanding to develop new profiling mechanisms and machinery in the VM, and (c) construct higher-level predictive models that maximize the ease and benefit of using profile knowledge during VM tasks. To conduct this fundamental study, assess and demonstrate its observations, and show the benefits of more effective program profiling to improve existing VM optimizations, and to enable the creation of new adaptive VM optimizations, this work will employ three sets of real VM adaptive tasks: (a) selective compilation and feedback-directed optimizations to improve program speed, (b) heap memory management to increase performance and power efficiency, and (c) code cache management to maintain performance at lower memory utilization. This research promises to improve the performance and accessibility of managed language programs, which is very important for future computing systems as they provide an ideal programming platform in the face of growing software complexity, the best distribution format for portable Internet-based applications, and the most effective execution strategy for safe and secure execution of untrusted web services.",
 "awd_arra_amount": 0.0,
 "dir_abbr": "CSE",
 "org_dir_long_name": "Directorate for Computer and Information Science and Engineering",
 "div_abbr": "CCF",
 "org_div_long_name": "Division of Computing and Communication Foundations",
 "awd_agcy_code": "4900",
 "fund_agcy_code": "4900",
 "pi": [
  {
   "pi_role": "Principal Investigator",
   "pi_first_name": "Prasad",
   "pi_last_name": "Kulkarni",
   "pi_mid_init": "A",
   "pi_sufx_name": "",
   "pi_full_name": "Prasad A Kulkarni",
   "pi_email_addr": "prasadk@ku.edu",
   "nsf_id": "000495187",
   "pi_start_date": "2016-05-31",
   "pi_end_date": null
  }
 ],
 "inst": {
  "inst_name": "University of Kansas Center for Research Inc",
  "inst_street_address": "2385 IRVING HILL RD",
  "inst_street_address_2": "",
  "inst_city_name": "LAWRENCE",
  "inst_state_code": "KS",
  "inst_state_name": "Kansas",
  "inst_phone_num": "7858643441",
  "inst_zip_code": "660457563",
  "inst_country_name": "United States",
  "cong_dist_code": "01",
  "st_cong_dist_code": "KS01",
  "org_lgl_bus_name": "UNIVERSITY OF KANSAS CENTER FOR RESEARCH INC",
  "org_prnt_uei_num": "SSUJB3GSH8A5",
  "org_uei_num": "SSUJB3GSH8A5"
 },
 "perf_inst": {
  "perf_inst_name": "University of Kansas Center for Research Inc",
  "perf_str_addr": "2385 Irving Hill Road",
  "perf_city_name": "Lawrence",
  "perf_st_code": "KS",
  "perf_st_name": "Kansas",
  "perf_zip_code": "660457568",
  "perf_ctry_code": "US",
  "perf_cong_dist": "01",
  "perf_st_cong_dist": "KS01",
  "perf_ctry_name": "United States",
  "perf_ctry_flag": "1"
 },
 "pgm_ele": [
  {
   "pgm_ele_code": "779800",
   "pgm_ele_name": "Software & Hardware Foundation"
  }
 ],
 "pgm_ref": [
  {
   "pgm_ref_code": "7923",
   "pgm_ref_txt": "SMALL PROJECT"
  },
  {
   "pgm_ref_code": "7943",
   "pgm_ref_txt": "PROGRAMMING LANGUAGES"
  },
  {
   "pgm_ref_code": "9150",
   "pgm_ref_txt": "EXP PROG TO STIM COMP RES"
  },
  {
   "pgm_ref_code": "9251",
   "pgm_ref_txt": "REU SUPP-Res Exp for Ugrd Supp"
  }
 ],
 "app_fund": [
  {
   "app_code": "0116",
   "app_name": "NSF RESEARCH & RELATED ACTIVIT",
   "app_symb_id": "040100",
   "fund_code": "01001617DB",
   "fund_name": "NSF RESEARCH & RELATED ACTIVIT",
   "fund_symb_id": "040100"
  },
  {
   "app_code": "0117",
   "app_name": "NSF RESEARCH & RELATED ACTIVIT",
   "app_symb_id": "040100",
   "fund_code": "01001718DB",
   "fund_name": "NSF RESEARCH & RELATED ACTIVIT",
   "fund_symb_id": "040100"
  }
 ],
 "oblg_fy": [
  {
   "fund_oblg_fiscal_yr": 2016,
   "fund_oblg_amt": 224943.0
  },
  {
   "fund_oblg_fiscal_yr": 2017,
   "fund_oblg_amt": 16000.0
  }
 ],
 "por": {
  "por_cntn": "<div class=\"porColContainerWBG\">\n<div class=\"porContentCol\"><p><span id=\"docs-internal-guid-ec8e801c-7fff-43c8-2598-22b2cd6073c8\"> </span></p>\n<p dir=\"ltr\"><span>The broad project goal was to understand the characteristics, behavior, potential, and impact of profiling and profile-guided optimizations (PGOs) and algorithms in static and dynamic compilers. The project studied the properties of profiling and PGOs for code generation in static compilers (LLVM and GCC) and dynamic compilers (Oracle HotSpot). The project also explored the impact of profiling on critical tasks in high-level language runtime environments, including code cache management and memory management.</span></p>\n<p><br /><br /></p>\n<p dir=\"ltr\"><span>Intellectual Merit:</span></p>\n<p>&nbsp;</p>\n<p dir=\"ltr\"><span>1. We designed and developed the framework and experiments to understand and quantify the impact of </span><span>intrinsic</span><span> profiling limitations on the effectiveness of adaptive optimizations. For offline profiling, we measure: (a) the performance impact of the difference in training and evaluation inputs on performance of FDOs, and (b) the effect of aggregating profile information across the entire program run. For online profiling, we: (a) assess the effectiveness of FDOs when they have access to the best online profiling data while ignoring any cost overhead, and (b) evaluate the impact of online techniques that only have access to incomplete profile information due to practical issues of run-time overhead and profile data collection delay.</span></p>\n<p dir=\"ltr\"><span>Results of this study are published in our ACM TACO 2016 paper.</span></p>\n<p>&nbsp;</p>\n<p dir=\"ltr\"><span>2. Just-in-time (JIT) compilation during program execution and ahead-of-time (AOT) compilation during software installation are alternate techniques used by managed language virtual machines (VM) to generate optimized native code. We designed and developed the framework and experiments to investigate and quantify the implications of the AOT compilation model on the quality of the generated native code for current VMs.</span></p>\n<p dir=\"ltr\"><span>This work provides greater insight in the workings, characteristics, and benefits of existing profiling based VM optimization systems, and demonstrates some of the challenges that AOT compilation systems must overcome to achieve comparable code quality to JIT based VMs.</span></p>\n<p dir=\"ltr\"><span>Results of this study are published in our ACM LCTES 2017 paper.</span></p>\n<p>&nbsp;</p>\n<p dir=\"ltr\"><span>3. We extended the previous study by exploring how the quality of profile data impacts the benefit and effectiveness of individual optimizations in a dynamic JIT compiler. One important finding was that most optimizations do not contribute significantly to performance improvement; profile data appears to be most profitably used by inlining and other optimizations that assist with inlining decisions.</span></p>\n<p dir=\"ltr\"><span>Results of this study were published in our ACM TECS 2020 paper.</span></p>\n<p>&nbsp;</p>\n<p dir=\"ltr\"><span>4. Our previous studies had developed a novel framework based in the HotSpot Java VM and Linux operating system, that enables applications to distribute data objects across the DRAM hardware to exploit low-power modes and achieve desired power/performance goals. For this project, we extended our existing&nbsp; framework with an online profile guided optimization for separating hot and cold data objects in the Java VM. We showed that the online optimization reduces DRAM energy consumption by more than 25.5% on average. We also showed that our approach can reduce DRAM energy consumption by up to 48%, in the best case. </span></p>\n<p dir=\"ltr\"><span>Results of this study are published in the ACM TACO 2018.</span></p>\n<p>&nbsp;</p>\n<p dir=\"ltr\"><span>5. We proposed, designed, implemented and evaluated a multi-tiered allocation strategy that uses prior information to group sites for automatic tier selection. We showed that a guidance-based approach has the potential to outperform precise information based reactive placement of data. </span></p>\n<p dir=\"ltr\"><span>Results of this study are published at LNCS ARCS 201.</span></p>\n<p>&nbsp;</p>\n<p dir=\"ltr\"><span>6. We developed MemBrain, a software-guided tiering framework that aims to enable efficient data placement on hybrid memory systems. MemBrain facilitates the use of data-tier guidance by associating profiles of memory usage characteristics, such as bandwidth and capacity, with program allocation sites. </span></p>\n<p dir=\"ltr\"><span>Results of this study are published in IEEE NAS 2018, where it received the Best Paper award.</span></p>\n<p>&nbsp;</p>\n<p dir=\"ltr\"><span>7. We developed Valence (Variable-length encoding of calling contexts), a compiler-based approach to generate precise, efficient, and scalable calling context encodings. Our study developed a novel variable length encoding scheme that uses only a small number of bits to store each piece of the calling context. </span></p>\n<p dir=\"ltr\"><span>Results of this study are published at ACM CC 2019.</span></p>\n<p>&nbsp;</p>\n<p dir=\"ltr\"><span>8. We studied the effectiveness of program features for guiding memory management. The results show that even relatively simple features, such as object size, are useful for distinguishing data with different usage properties, but finer-grained features significantly increase classification accuracy. </span></p>\n<p dir=\"ltr\"><span>Results of this study are blished at ACM/IEEE MemSys 2019.</span></p>\n<p><br /><br /></p>\n<p dir=\"ltr\"><span>Broader Impacts:</span></p>\n<p>&nbsp;</p>\n<p dir=\"ltr\"><span>The results of this research are being integrated into the PIs' core Compiler Construction and Virtual Machine classes at each institution. We applied this research during outreach and mentoring activities for K-12 and high-school students to enhance scientific literacy among women and underrepresented groups in CS. Several graduate and undergraduate students have gained important skills in research and development of large software systems, including compilers and virtual machines. Publications on our work describing our innovations and experiences will enable others to learn new techniques and tools.&nbsp;</span></p>\n<p>&nbsp;</p><br>\n<p>\n\t\t\t\t      \tLast Modified: 11/02/2020<br>\n\t\t\t\t\tModified by: Prasad&nbsp;A&nbsp;Kulkarni</p>\n</div>\n<div class=\"porSideCol\"></div>\n</div>",
  "por_txt_cntn": "\n \nThe broad project goal was to understand the characteristics, behavior, potential, and impact of profiling and profile-guided optimizations (PGOs) and algorithms in static and dynamic compilers. The project studied the properties of profiling and PGOs for code generation in static compilers (LLVM and GCC) and dynamic compilers (Oracle HotSpot). The project also explored the impact of profiling on critical tasks in high-level language runtime environments, including code cache management and memory management.\n\n\n\n\nIntellectual Merit:\n\n \n1. We designed and developed the framework and experiments to understand and quantify the impact of intrinsic profiling limitations on the effectiveness of adaptive optimizations. For offline profiling, we measure: (a) the performance impact of the difference in training and evaluation inputs on performance of FDOs, and (b) the effect of aggregating profile information across the entire program run. For online profiling, we: (a) assess the effectiveness of FDOs when they have access to the best online profiling data while ignoring any cost overhead, and (b) evaluate the impact of online techniques that only have access to incomplete profile information due to practical issues of run-time overhead and profile data collection delay.\nResults of this study are published in our ACM TACO 2016 paper.\n\n \n2. Just-in-time (JIT) compilation during program execution and ahead-of-time (AOT) compilation during software installation are alternate techniques used by managed language virtual machines (VM) to generate optimized native code. We designed and developed the framework and experiments to investigate and quantify the implications of the AOT compilation model on the quality of the generated native code for current VMs.\nThis work provides greater insight in the workings, characteristics, and benefits of existing profiling based VM optimization systems, and demonstrates some of the challenges that AOT compilation systems must overcome to achieve comparable code quality to JIT based VMs.\nResults of this study are published in our ACM LCTES 2017 paper.\n\n \n3. We extended the previous study by exploring how the quality of profile data impacts the benefit and effectiveness of individual optimizations in a dynamic JIT compiler. One important finding was that most optimizations do not contribute significantly to performance improvement; profile data appears to be most profitably used by inlining and other optimizations that assist with inlining decisions.\nResults of this study were published in our ACM TECS 2020 paper.\n\n \n4. Our previous studies had developed a novel framework based in the HotSpot Java VM and Linux operating system, that enables applications to distribute data objects across the DRAM hardware to exploit low-power modes and achieve desired power/performance goals. For this project, we extended our existing  framework with an online profile guided optimization for separating hot and cold data objects in the Java VM. We showed that the online optimization reduces DRAM energy consumption by more than 25.5% on average. We also showed that our approach can reduce DRAM energy consumption by up to 48%, in the best case. \nResults of this study are published in the ACM TACO 2018.\n\n \n5. We proposed, designed, implemented and evaluated a multi-tiered allocation strategy that uses prior information to group sites for automatic tier selection. We showed that a guidance-based approach has the potential to outperform precise information based reactive placement of data. \nResults of this study are published at LNCS ARCS 201.\n\n \n6. We developed MemBrain, a software-guided tiering framework that aims to enable efficient data placement on hybrid memory systems. MemBrain facilitates the use of data-tier guidance by associating profiles of memory usage characteristics, such as bandwidth and capacity, with program allocation sites. \nResults of this study are published in IEEE NAS 2018, where it received the Best Paper award.\n\n \n7. We developed Valence (Variable-length encoding of calling contexts), a compiler-based approach to generate precise, efficient, and scalable calling context encodings. Our study developed a novel variable length encoding scheme that uses only a small number of bits to store each piece of the calling context. \nResults of this study are published at ACM CC 2019.\n\n \n8. We studied the effectiveness of program features for guiding memory management. The results show that even relatively simple features, such as object size, are useful for distinguishing data with different usage properties, but finer-grained features significantly increase classification accuracy. \nResults of this study are blished at ACM/IEEE MemSys 2019.\n\n\n\n\nBroader Impacts:\n\n \nThe results of this research are being integrated into the PIs' core Compiler Construction and Virtual Machine classes at each institution. We applied this research during outreach and mentoring activities for K-12 and high-school students to enhance scientific literacy among women and underrepresented groups in CS. Several graduate and undergraduate students have gained important skills in research and development of large software systems, including compilers and virtual machines. Publications on our work describing our innovations and experiences will enable others to learn new techniques and tools. \n\n \n\n\t\t\t\t\tLast Modified: 11/02/2020\n\n\t\t\t\t\tSubmitted by: Prasad A Kulkarni"
 }
}