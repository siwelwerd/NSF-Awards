{
 "awd_id": "1564329",
 "agcy_id": "NSF",
 "tran_type": "Grant",
 "awd_istr_txt": "Continuing Grant",
 "awd_titl_txt": "NeTS: Medium: HayStack: Fine-grained Visibility and Control of Mobile Traffic for Enhanced Performance, Privacy and Security",
 "cfda_num": "47.070",
 "org_code": "05050000",
 "po_phone": "7032927855",
 "po_email": "aabouzei@nsf.gov",
 "po_sign_block_name": "Alhussein Abouzeid",
 "awd_eff_date": "2016-08-01",
 "awd_exp_date": "2021-08-31",
 "tot_intn_awd_amt": 1000000.0,
 "awd_amount": 1000000.0,
 "awd_min_amd_letter_date": "2016-08-03",
 "awd_max_amd_letter_date": "2018-08-24",
 "awd_abstract_narration": "Despite our growing reliance on mobile phones for a wide range of daily tasks, their operation remains largely opaque even for experts. Mobile users have little insight into how their mobile apps operate and perform in the network, into how (or whether) they protect the information that users entrust to them, and with whom they share user's personal information. A number of previous studies have addressed elements of this problem in a partial fashion, trading off analytic comprehensiveness and deployment scale. This project seeks to overcome the limitations of previous approaches by building a handset-, traffic-,  and user-centric mobile measurement platform: the ICSI Haystack. Haystack offers a novel and flexible mobile vantage point capable of correlating real-world mobile traffic with user input and high-fidelity device activity at scale while also enabling mechanisms to aid mobile users to stay in control of their mobile traffic and personal data. The research community, operators and regulatory bodies will also benefit from the novel measurement mechanisms and from the data collected in order to safeguard mobile users and to increase the operational transparency of mobile apps and trackers.\r\n\r\nTo achieve this vision, this project develops novel techniques to perform high-fidelity mobile measurements by capturing user traffic in user-space on the device using native platform support. As a result, Haystack will be available for anyone to install from traditional app stores such as Google Play, thereby enhancing user reach. In order to gain a truly in-depth and broad understanding of the mobile ecosystem, Haystack takes advantage of its local operation to correlate network traffic with user input and local context, such as which app generated a particular network flow and device location, obtained from the operating system itself with real network and user stimuli. Critically, Haystack's system design must be flexible and extensible in order to enable researchers to conduct a wide range of mobile measurements, to cope with new mobile technologies, and to reach a broad cross-section of mobile users. The ability to combine all these features together in user devices makes Haystack an ideal vantage point to conduct a wide range of mobile measurements such as mobile traffic characterization in the wild, privacy leak detection, identifying online tracking services, auditing app security, and network performance measurements.",
 "awd_arra_amount": 0.0,
 "dir_abbr": "CSE",
 "org_dir_long_name": "Directorate for Computer and Information Science and Engineering",
 "div_abbr": "CNS",
 "org_div_long_name": "Division Of Computer and Network Systems",
 "awd_agcy_code": "4900",
 "fund_agcy_code": "4900",
 "pi": [
  {
   "pi_role": "Principal Investigator",
   "pi_first_name": "Narseo",
   "pi_last_name": "Vallina-Rodriguez",
   "pi_mid_init": "",
   "pi_sufx_name": "",
   "pi_full_name": "Narseo Vallina-Rodriguez",
   "pi_email_addr": "narseo@icsi.berkeley.edu",
   "nsf_id": "000684308",
   "pi_start_date": "2016-08-03",
   "pi_end_date": null
  },
  {
   "pi_role": "Former Co-Principal Investigator",
   "pi_first_name": "Vern",
   "pi_last_name": "Paxson",
   "pi_mid_init": "",
   "pi_sufx_name": "",
   "pi_full_name": "Vern Paxson",
   "pi_email_addr": "vern@icsi.berkeley.edu",
   "nsf_id": "000452263",
   "pi_start_date": "2016-08-03",
   "pi_end_date": "2018-08-24"
  },
  {
   "pi_role": "Co-Principal Investigator",
   "pi_first_name": "Mark",
   "pi_last_name": "Allman",
   "pi_mid_init": "",
   "pi_sufx_name": "",
   "pi_full_name": "Mark Allman",
   "pi_email_addr": "mallman@icir.org",
   "nsf_id": "000279986",
   "pi_start_date": "2016-08-03",
   "pi_end_date": null
  }
 ],
 "inst": {
  "inst_name": "International Computer Science Institute",
  "inst_street_address": "2150 SHATTUCK AVE",
  "inst_street_address_2": "SUITE 250",
  "inst_city_name": "BERKELEY",
  "inst_state_code": "CA",
  "inst_state_name": "California",
  "inst_phone_num": "5106662900",
  "inst_zip_code": "947041345",
  "inst_country_name": "United States",
  "cong_dist_code": "12",
  "st_cong_dist_code": "CA12",
  "org_lgl_bus_name": "INTERNATIONAL COMPUTER SCIENCE INSTITUTE",
  "org_prnt_uei_num": "",
  "org_uei_num": "GSRMP1QCXU74"
 },
 "perf_inst": {
  "perf_inst_name": "International Computer Science Institute",
  "perf_str_addr": "1947 Center Street, Suite 600",
  "perf_city_name": "Berkeley",
  "perf_st_code": "CA",
  "perf_st_name": "California",
  "perf_zip_code": "947041159",
  "perf_ctry_code": "US",
  "perf_cong_dist": "12",
  "perf_st_cong_dist": "CA12",
  "perf_ctry_name": "United States",
  "perf_ctry_flag": "1"
 },
 "pgm_ele": [
  {
   "pgm_ele_code": "736300",
   "pgm_ele_name": "Networking Technology and Syst"
  },
  {
   "pgm_ele_code": "806000",
   "pgm_ele_name": "Secure &Trustworthy Cyberspace"
  }
 ],
 "pgm_ref": [
  {
   "pgm_ref_code": "7434",
   "pgm_ref_txt": "CNCI"
  },
  {
   "pgm_ref_code": "7924",
   "pgm_ref_txt": "MEDIUM PROJECT"
  }
 ],
 "app_fund": [
  {
   "app_code": "0116",
   "app_name": "NSF RESEARCH & RELATED ACTIVIT",
   "app_symb_id": "040100",
   "fund_code": "01001617DB",
   "fund_name": "NSF RESEARCH & RELATED ACTIVIT",
   "fund_symb_id": "040100"
  },
  {
   "app_code": "0117",
   "app_name": "NSF RESEARCH & RELATED ACTIVIT",
   "app_symb_id": "040100",
   "fund_code": "01001718DB",
   "fund_name": "NSF RESEARCH & RELATED ACTIVIT",
   "fund_symb_id": "040100"
  },
  {
   "app_code": "0118",
   "app_name": "NSF RESEARCH & RELATED ACTIVIT",
   "app_symb_id": "040100",
   "fund_code": "01001819DB",
   "fund_name": "NSF RESEARCH & RELATED ACTIVIT",
   "fund_symb_id": "040100"
  }
 ],
 "oblg_fy": [
  {
   "fund_oblg_fiscal_yr": 2016,
   "fund_oblg_amt": 318482.0
  },
  {
   "fund_oblg_fiscal_yr": 2017,
   "fund_oblg_amt": 333090.0
  },
  {
   "fund_oblg_fiscal_yr": 2018,
   "fund_oblg_amt": 348428.0
  }
 ],
 "por": {
  "por_cntn": "<div class=\"porColContainerWBG\">\n<div class=\"porContentCol\"><p id=\"docs-internal-guid-28fe5a7e-7fff-5d7f-43b4-5c0b0efe3949\" dir=\"ltr\"><span>Despite our growing reliance on mobile technologies, we remain largely in the dark about the operation of our devices, including how (or whether) they protect the information we entrust to them. Yet, the lack of methods to locally access the traffic of our smartphones presented a fundamental impediment to systematically study the mobile ecosystem as a whole. To overcome this challenge, the Haystack project leveraged the Android VPN API to develop a novel user-centric measurement framework for studying the risks of mobile apps in a privacy-preserving fashion, while empowering users to gain control over their apps' traffic.&nbsp;</span></p>\n<p dir=\"ltr\"><strong>Research highlights:</strong></p>\n<p dir=\"ltr\"><span>Haystack's unique measurement framework enabled a myriad of mobile traffic and privacy measurements at an unprecedented scale:</span></p>\n<ul>\n<li dir=\"ltr\">\n<p dir=\"ltr\"><span>Mobile traffic analysis. The wide range of network </span><span>protocols being used by mobile apps&nbsp; paints a nuanced picture of mobile traffic. The anonymized traffic logs voluntarily supplied by Lumen users allowed us to study organically the </span><span>use of critical protocols such as TLS (</span><span>de-facto standard for secure communication)</span><span> and DNS (CoNEXT'17, IMC'18, INFOCOM'18, CCR'20) from the edge. </span><span>Our results showed that improving mobile traffic security and performance is not straightforward due to developers' inexperience and errors, even among financial apps.</span></p>\n</li>\n<li dir=\"ltr\">\n<p dir=\"ltr\"><span>Mobile ecosystem analysis. </span><span>Mobile users are tracked by entities such as advertising services without their awareness.</span><span> Lumen data allowed (i) illuminating the third-party organizations offering advertising and user tracking services to mobile app developers (NDSS'18), (ii) performing a comparative analysis of the publishing dynamics and security guarantees of the major Android app markets (IMC'18), and (iii) studying deceptive actors such as malicious VPN providers (IMC'16, IMC'18) and organized schemes for manipulating app's market ratings (IMC'20). </span><span>We also conducted the first systematic study of the privacy and security risks of preloaded apps on Android devices (IEEE Symposium on S&amp;P'20). The latter study demonstrated how the lack of control over Android manufacturers and the device supply chain facilitates harmful behaviors and backdoored access to sensitive user data at the OS-level.&nbsp;</span></p>\n</li>\n<li dir=\"ltr\">\n<p dir=\"ltr\"><span>Regulatory compliance analysis. Many \"</span><span>free\" mobile apps monetize users' data without consent, thus violating strict privacy regulations like the EU GDPR and USA COPPA. Haystack project contributed to fill a dearth of auditing tools to</span><span> study mobile apps from a regulatory prism by combining Haystack's traffic analysis capabilities with a heavily instrumented Android version </span><span>that allows monitoring apps' runtime behavior</span><span>. </span><span>Armed with this technology, we (i) conducted the first large-scale analysis of children-oriented apps in the context of the COPPA rule (PETS'18); (ii) developed methods to detect contradictions between the actual runtime behavior of mobile apps and their privacy policy (ConPro'19); or (iii) discovered unknown side- and covert-channels for accessing permission-protected data without requesting the pertinent permission (USENIX Security'19); among other studies.</span><span> This testing platform was transferred to practice through the start-up AppCensus.</span></p>\n</li>\n</ul>\n<p dir=\"ltr\"><strong>Broader impact:</strong></p>\n<p dir=\"ltr\"><span>Haystack's scientific outputs have received multiple awards (e.g., Caspar Bowden Award, Best Practical Paper Award at IEEE Symposium on S&amp;P'20, Distinguished Paper Award at Usenix Security'19, CNIL-INRIA privacy award'19, and AEPD Emilio Aced Award'20). These recognitions showcase the scientific and regulatory impact of the project. Specifically, our PETS'18 paper triggered regulatory actions in the USA.</span></p>\n<p dir=\"ltr\"><span>Media coverage has been critical to reach out to communities of interest and the general public, thus raising societal awareness. Our work was mentioned on the influential Mozilla's 2019 Internet Health Report and Apple's \"A Day in the Life of Your Data\", among others. Haystack's research efforts actively enhanced the security of millions of Android users by responsibly disclosing vulnerabilities and abuses to privacy regulators, developers and prominent app markets. Some of these vulnerabilities were assigned CVS.</span></p><br>\n<p>\n\t\t\t\t      \tLast Modified: 12/27/2021<br>\n\t\t\t\t\tModified by: Narseo&nbsp;Vallina-Rodriguez</p>\n</div>\n<div class=\"porSideCol\">\n<div class=\"each-gallery\">\n<div class=\"galContent\" id=\"gallery0\">\n<div class=\"photoCount\" id=\"photoCount0\">\n\t\t\t\t\t\t\t\t\tImages (<span id=\"selectedPhoto0\">1</span> of <span class=\"totalNumber\"></span>)\t\t\n\t\t\t\t\t\t\t\t</div>\n<div class=\"galControls\" id=\"controls0\"></div>\n<div class=\"galSlideshow\" id=\"slideshow0\"></div>\n<div class=\"galEmbox\" id=\"embox\">\n<div class=\"image-title\"></div>\n</div>\n</div>\n<div class=\"galNavigation\" id=\"navigation0\">\n<ul class=\"thumbs\" id=\"thumbs0\">\n<li>\n<a href=\"/por/images/Reports/POR/2021/1564329/1564329_10446334_1640618845798_Screenshot2021-12-27at16.24.51--rgov-214x142.jpg\" original=\"/por/images/Reports/POR/2021/1564329/1564329_10446334_1640618845798_Screenshot2021-12-27at16.24.51--rgov-800width.jpg\" title=\"Lumen's architecture design\"><img src=\"/por/images/Reports/POR/2021/1564329/1564329_10446334_1640618845798_Screenshot2021-12-27at16.24.51--rgov-66x44.jpg\" alt=\"Lumen's architecture design\"></a>\n<div class=\"imageCaptionContainer\">\n<div class=\"imageCaption\">Architecture of Lumen's traffic interception module.</div>\n<div class=\"imageCredit\">ICSI</div>\n<div class=\"imagePermisssions\">Creative Commons</div>\n<div class=\"imageSubmitted\">Narseo&nbsp;Vallina-Rodriguez</div>\n<div class=\"imageTitle\">Lumen's architecture design</div>\n</div>\n</li>\n<li>\n<a href=\"/por/images/Reports/POR/2021/1564329/1564329_10446334_1640618932470_Screenshot2021-12-27at16.25.48--rgov-214x142.jpg\" original=\"/por/images/Reports/POR/2021/1564329/1564329_10446334_1640618932470_Screenshot2021-12-27at16.25.48--rgov-800width.jpg\" title=\"Side and covert channels\"><img src=\"/por/images/Reports/POR/2021/1564329/1564329_10446334_1640618932470_Screenshot2021-12-27at16.25.48--rgov-66x44.jpg\" alt=\"Side and covert channels\"></a>\n<div class=\"imageCaptionContainer\">\n<div class=\"imageCaption\">Use of side- and covert-channels in Android to circumvent the Android permission model</div>\n<div class=\"imageCredit\">ICSI</div>\n<div class=\"imagePermisssions\">Creative Commons</div>\n<div class=\"imageSubmitted\">Narseo&nbsp;Vallina-Rodriguez</div>\n<div class=\"imageTitle\">Side and covert channels</div>\n</div>\n</li>\n</ul>\n</div>\n</div>\n</div>\n</div>",
  "por_txt_cntn": "Despite our growing reliance on mobile technologies, we remain largely in the dark about the operation of our devices, including how (or whether) they protect the information we entrust to them. Yet, the lack of methods to locally access the traffic of our smartphones presented a fundamental impediment to systematically study the mobile ecosystem as a whole. To overcome this challenge, the Haystack project leveraged the Android VPN API to develop a novel user-centric measurement framework for studying the risks of mobile apps in a privacy-preserving fashion, while empowering users to gain control over their apps' traffic. \nResearch highlights:\nHaystack's unique measurement framework enabled a myriad of mobile traffic and privacy measurements at an unprecedented scale:\n\n\nMobile traffic analysis. The wide range of network protocols being used by mobile apps  paints a nuanced picture of mobile traffic. The anonymized traffic logs voluntarily supplied by Lumen users allowed us to study organically the use of critical protocols such as TLS (de-facto standard for secure communication) and DNS (CoNEXT'17, IMC'18, INFOCOM'18, CCR'20) from the edge. Our results showed that improving mobile traffic security and performance is not straightforward due to developers' inexperience and errors, even among financial apps.\n\n\nMobile ecosystem analysis. Mobile users are tracked by entities such as advertising services without their awareness. Lumen data allowed (i) illuminating the third-party organizations offering advertising and user tracking services to mobile app developers (NDSS'18), (ii) performing a comparative analysis of the publishing dynamics and security guarantees of the major Android app markets (IMC'18), and (iii) studying deceptive actors such as malicious VPN providers (IMC'16, IMC'18) and organized schemes for manipulating app's market ratings (IMC'20). We also conducted the first systematic study of the privacy and security risks of preloaded apps on Android devices (IEEE Symposium on S&amp;P'20). The latter study demonstrated how the lack of control over Android manufacturers and the device supply chain facilitates harmful behaviors and backdoored access to sensitive user data at the OS-level. \n\n\nRegulatory compliance analysis. Many \"free\" mobile apps monetize users' data without consent, thus violating strict privacy regulations like the EU GDPR and USA COPPA. Haystack project contributed to fill a dearth of auditing tools to study mobile apps from a regulatory prism by combining Haystack's traffic analysis capabilities with a heavily instrumented Android version that allows monitoring apps' runtime behavior. Armed with this technology, we (i) conducted the first large-scale analysis of children-oriented apps in the context of the COPPA rule (PETS'18); (ii) developed methods to detect contradictions between the actual runtime behavior of mobile apps and their privacy policy (ConPro'19); or (iii) discovered unknown side- and covert-channels for accessing permission-protected data without requesting the pertinent permission (USENIX Security'19); among other studies. This testing platform was transferred to practice through the start-up AppCensus.\n\n\nBroader impact:\nHaystack's scientific outputs have received multiple awards (e.g., Caspar Bowden Award, Best Practical Paper Award at IEEE Symposium on S&amp;P'20, Distinguished Paper Award at Usenix Security'19, CNIL-INRIA privacy award'19, and AEPD Emilio Aced Award'20). These recognitions showcase the scientific and regulatory impact of the project. Specifically, our PETS'18 paper triggered regulatory actions in the USA.\nMedia coverage has been critical to reach out to communities of interest and the general public, thus raising societal awareness. Our work was mentioned on the influential Mozilla's 2019 Internet Health Report and Apple's \"A Day in the Life of Your Data\", among others. Haystack's research efforts actively enhanced the security of millions of Android users by responsibly disclosing vulnerabilities and abuses to privacy regulators, developers and prominent app markets. Some of these vulnerabilities were assigned CVS.\n\n\t\t\t\t\tLast Modified: 12/27/2021\n\n\t\t\t\t\tSubmitted by: Narseo Vallina-Rodriguez"
 }
}