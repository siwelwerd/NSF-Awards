{
 "awd_id": "1650758",
 "agcy_id": "NSF",
 "tran_type": "Grant",
 "awd_istr_txt": "Standard Grant",
 "awd_titl_txt": "EAGER:   Workload Analysis of Blue Waters",
 "cfda_num": "47.070",
 "org_code": "05090000",
 "po_phone": "7032924863",
 "po_email": "edwalker@nsf.gov",
 "po_sign_block_name": "Edward Walker",
 "awd_eff_date": "2016-08-15",
 "awd_exp_date": "2017-01-31",
 "tot_intn_awd_amt": 300000.0,
 "awd_amount": 300000.0,
 "awd_min_amd_letter_date": "2016-08-05",
 "awd_max_amd_letter_date": "2016-08-05",
 "awd_abstract_narration": "Blue Waters is the largest NSF-supported leadership-class supercomputer.  It was acquired and is operated by the University of Illinois.   Its purpose is to greatly advance fundamental understanding represented in \"grand challenge\" problems within and across a wide range of science and engineering.  It does this by offering a computing system and environment suitable for and capable of solving the most challenging computational and data analysis problems.  Given the important and unique role that Blue Waters plays in the nation's research portfolio, it is important to have a detailed technical understanding of its scientific workload. This award to State University of New York (SUNY) at Buffalo undertakes such a study.  This workload characterization will guide performance optimization at the software and system configuration level to maximize job performance and workflow, as well as to help inform future computer architecture research and development.  Additionally, the analysis could concretely inform the system balance trade-offs of future leadership-class system deployments.  This study will leverage  prior Blue Waters studies and data, but will incorporate a comprehensive approach by extending the NSF-funded and publicly available XDMoD (XD Metrics on Demand) service to include data specific to Blue Waters architecture.\r\n\r\nThe results of this study will not only provide detailed operational and performance analytics for Blue Waters, but will also be used as a template for similar studies carried out on other advanced high performance computing systems that are revolutionizing computational science. This \"transfer of knowledge\" will be facilitated through the use of Open XDMoD for the proposed analysis, which is already in wide use by HPC centers worldwide. In addition, one of the outcomes of this  project will be the modification of Open XDMoD to ingest job level performance data from the OVIS/LDMS monitoring framework. OVIS/LDMS is widely deployed on Cray HPC systems and this outcome will enable those centers with Cray systems to fully leverage Open XDMoD to provide comprehensive resource management.",
 "awd_arra_amount": 0.0,
 "dir_abbr": "CSE",
 "org_dir_long_name": "Directorate for Computer and Information Science and Engineering",
 "div_abbr": "OAC",
 "org_div_long_name": "Office of Advanced Cyberinfrastructure (OAC)",
 "awd_agcy_code": "4900",
 "fund_agcy_code": "4900",
 "pi": [
  {
   "pi_role": "Principal Investigator",
   "pi_first_name": "Thomas",
   "pi_last_name": "Furlani",
   "pi_mid_init": "R",
   "pi_sufx_name": "",
   "pi_full_name": "Thomas R Furlani",
   "pi_email_addr": "furlani@buffalo.edu",
   "nsf_id": "000146269",
   "pi_start_date": "2016-08-05",
   "pi_end_date": null
  },
  {
   "pi_role": "Co-Principal Investigator",
   "pi_first_name": "Robert",
   "pi_last_name": "DeLeon",
   "pi_mid_init": "L",
   "pi_sufx_name": "",
   "pi_full_name": "Robert L DeLeon",
   "pi_email_addr": "rldeleon@buffalo.edu",
   "nsf_id": "000163680",
   "pi_start_date": "2016-08-05",
   "pi_end_date": null
  },
  {
   "pi_role": "Co-Principal Investigator",
   "pi_first_name": "William",
   "pi_last_name": "Kramer",
   "pi_mid_init": "T",
   "pi_sufx_name": "",
   "pi_full_name": "William T Kramer",
   "pi_email_addr": "wtkramer@illinois.edu",
   "nsf_id": "000179975",
   "pi_start_date": "2016-08-05",
   "pi_end_date": null
  },
  {
   "pi_role": "Co-Principal Investigator",
   "pi_first_name": "Matthew",
   "pi_last_name": "Jones",
   "pi_mid_init": "D",
   "pi_sufx_name": "",
   "pi_full_name": "Matthew D Jones",
   "pi_email_addr": "jonesm@ccr.buffalo.edu",
   "nsf_id": "000170376",
   "pi_start_date": "2016-08-05",
   "pi_end_date": null
  },
  {
   "pi_role": "Co-Principal Investigator",
   "pi_first_name": "Joseph",
   "pi_last_name": "White",
   "pi_mid_init": "P",
   "pi_sufx_name": "",
   "pi_full_name": "Joseph P White",
   "pi_email_addr": "jpwhite4@buffalo.edu",
   "nsf_id": "000727254",
   "pi_start_date": "2016-08-05",
   "pi_end_date": null
  }
 ],
 "inst": {
  "inst_name": "SUNY at Buffalo",
  "inst_street_address": "520 LEE ENTRANCE STE 211",
  "inst_street_address_2": "",
  "inst_city_name": "AMHERST",
  "inst_state_code": "NY",
  "inst_state_name": "New York",
  "inst_phone_num": "7166452634",
  "inst_zip_code": "142282577",
  "inst_country_name": "United States",
  "cong_dist_code": "26",
  "st_cong_dist_code": "NY26",
  "org_lgl_bus_name": "THE RESEARCH FOUNDATION FOR THE STATE UNIVERSITY OF NEW YORK",
  "org_prnt_uei_num": "GMZUKXFDJMA9",
  "org_uei_num": "LMCJKRFW5R81"
 },
 "perf_inst": {
  "perf_inst_name": "SUNY at Buffalo",
  "perf_str_addr": "701 Ellicott St",
  "perf_city_name": "Buffalo",
  "perf_st_code": "NY",
  "perf_st_name": "New York",
  "perf_zip_code": "142031101",
  "perf_ctry_code": "US",
  "perf_cong_dist": "26",
  "perf_st_cong_dist": "NY26",
  "perf_ctry_name": "United States",
  "perf_ctry_flag": "1"
 },
 "pgm_ele": [
  {
   "pgm_ele_code": "778100",
   "pgm_ele_name": "Leadership-Class Computing"
  }
 ],
 "pgm_ref": [
  {
   "pgm_ref_code": "7916",
   "pgm_ref_txt": "EAGER"
  }
 ],
 "app_fund": [
  {
   "app_code": "0116",
   "app_name": "NSF RESEARCH & RELATED ACTIVIT",
   "app_symb_id": "040100",
   "fund_code": "01001617DB",
   "fund_name": "NSF RESEARCH & RELATED ACTIVIT",
   "fund_symb_id": "040100"
  }
 ],
 "oblg_fy": [
  {
   "fund_oblg_fiscal_yr": 2016,
   "fund_oblg_amt": 300000.0
  }
 ],
 "por": {
  "por_cntn": "<div class=\"porColContainerWBG\">\n<div class=\"porContentCol\"><p>The Bkue Waters workload analysis sought to understand a wide variety of use patterns and performance requirements for the jobs running on Blue Waters, including differences that may exist between the computational needs of the various fields of science such as average job size, use of accelerator technology, I/O, communication, and memory use.&nbsp; Historical trends for almost the entire operational life of Blue Waters to date were also studied to determine if these requirements are changing over time since this may impact future architecture designs.&nbsp; File system performance, the use of numerical libraries, and the types of parallelism employed by users (MPI, threads, etc.) were also studied.&nbsp;&nbsp;&nbsp; Highlights of the analysis follow.&nbsp;</p>\n<p><strong>Science and Engineering fields and Application Codes</strong></p>\n<ul>\n<li>The overall historical trend for all NSF directorates is toward increasing use of Blue Waters, albeit at much different overall scales of utilization.</li>\n<li>The MPS and Biological Sciences directorates are the leading consumers of node hours, typically accounting for more than 2/3 of all node hours used.&nbsp;</li>\n<li>The number of fields of science represented in the Blue Waters portfolio has increased in each year of its operation &ndash; more than doubling since its first year of operation.</li>\n<li>The applications run on Blue Waters represent an increasingly diverse mix of disciplines, ranging from broad use of community codes to more specific scientific sub-disciplines.</li>\n<li>The top 10 applications consume about 2/3 of all node hours.</li>\n<li>Common algorithms, as characterized by Colella&rsquo;s original seven dwarfs, are roughly equally represented within the applications run on Blue Waters aside from unstructured grids and Monte Carlo methods, which exhibit a much smaller fraction.</li>\n<li>Optimized numerical library usage, essential for high performance, has been used throughout in areas in which such libraries are applicable.&nbsp;</li>\n</ul>\n<p><strong>Concurrency and Parallelism</strong></p>\n<ul>\n<li>Blue Waters supports a diverse mix of job sizes from single node jobs to jobs that use in excess of 20,000 nodes in a single application. The patterns of usage differ between the XE and XK (GPU) nodes.&nbsp;</li>\n<li>Single node jobs, some of which may be attributable to high throughput computing, represent a small fraction (less than 2%) of the total node hours consumed on Blue Waters.</li>\n<li>For XE node jobs, all of the major science areas (&gt; 1 million node hours) run a mix of job sizes and all have very large jobs (&gt; 4096 nodes). The relative proportions of job size vary between different parent science areas. &nbsp;The job size distribution weighted by node hours consumed peaks at 1025 &ndash; 2048 for XE jobs.&nbsp;&nbsp; The largest 3% of the jobs (by node hours) account for 90% of the total node-hours consumed.</li>\n<li>The majority of XE node hours on the machine are spent running parallel jobs that use some form of message passing for inter-process communication. At least 25% of the workload uses some form of threading, however the larger jobs (&gt; 4096 nodes) mostly use message passing with no threading.&nbsp; There is no obvious trend in the variation of thread usage over time, however, thread usage information is only available for a short time period.</li>\n<li>For the XK (GPU) nodes, the parent sciences Molecular Biosciences, Chemistry and Physics are the largest users with NAMD and AMBER the two most prevalent applications. The job size distribution weighted by node hours consumed peaks at 65 &ndash; 128 nodes for the XK jobs. &nbsp;&nbsp;Similarly to the XE nodes, the largest 7% of the jobs (by node-hour) account for 90% of the node-hours consumed on the XK nodes.</li>\n<li>The aggregate GPU utilization (efficiency) varies significantly by application.&nbsp;</li>\n</ul>\n<p><strong>Memory Usage</strong></p>\n<ul>\n<li>Most jobs that run on the XE nodes use less than 50% of the memory available on the node.&nbsp; However, the distribution of memory use has a substantial tail to higher memory usage. &nbsp;</li>\n<li>Most jobs that run on the XK nodes use less than 25% of the available memory in the node with a short tail to higher usage.&nbsp;</li>\n<li>GPU memory usage is very small with few jobs using more than 1GB per GPU.&nbsp;</li>\n<li>The XE and XK nodes show no historical differences in memory use from year to year.&nbsp;</li>\n<li>For almost all applications and parent fields of science, memory usage has not changed over time.</li>\n</ul>\n<p><strong>Storage and I/O</strong></p>\n<ul>\n<li>On average Blue Waters&rsquo; three filesystems have a balanced reads/writes ratio with large fluctuations. The volume of traffic on the largest filesystem peaks at 10PB per month.</li>\n<li>Users&rsquo; jobs exhibit a wide range of I/O patterns.&nbsp;</li>\n<li>Overall there is a tendency to use a very large number of small files, which is a challenge for many parallel file systems.</li>\n<li>Read and write rates stay significantly below possible peak filesystem performance.&nbsp;</li>\n<li>User jobs spend a very small fraction of time in filesystem I/O operations</li>\n<li>Many jobs utilize specialized libraries for their I/O operations&nbsp;</li>\n</ul><br>\n<p>\n\t\t\t\t      \tLast Modified: 03/03/2017<br>\n\t\t\t\t\tModified by: Thomas&nbsp;R&nbsp;Furlani</p>\n</div>\n<div class=\"porSideCol\"></div>\n</div>",
  "por_txt_cntn": "\nThe Bkue Waters workload analysis sought to understand a wide variety of use patterns and performance requirements for the jobs running on Blue Waters, including differences that may exist between the computational needs of the various fields of science such as average job size, use of accelerator technology, I/O, communication, and memory use.  Historical trends for almost the entire operational life of Blue Waters to date were also studied to determine if these requirements are changing over time since this may impact future architecture designs.  File system performance, the use of numerical libraries, and the types of parallelism employed by users (MPI, threads, etc.) were also studied.    Highlights of the analysis follow. \n\nScience and Engineering fields and Application Codes\n\nThe overall historical trend for all NSF directorates is toward increasing use of Blue Waters, albeit at much different overall scales of utilization.\nThe MPS and Biological Sciences directorates are the leading consumers of node hours, typically accounting for more than 2/3 of all node hours used. \nThe number of fields of science represented in the Blue Waters portfolio has increased in each year of its operation &ndash; more than doubling since its first year of operation.\nThe applications run on Blue Waters represent an increasingly diverse mix of disciplines, ranging from broad use of community codes to more specific scientific sub-disciplines.\nThe top 10 applications consume about 2/3 of all node hours.\nCommon algorithms, as characterized by Colella?s original seven dwarfs, are roughly equally represented within the applications run on Blue Waters aside from unstructured grids and Monte Carlo methods, which exhibit a much smaller fraction.\nOptimized numerical library usage, essential for high performance, has been used throughout in areas in which such libraries are applicable. \n\n\nConcurrency and Parallelism\n\nBlue Waters supports a diverse mix of job sizes from single node jobs to jobs that use in excess of 20,000 nodes in a single application. The patterns of usage differ between the XE and XK (GPU) nodes. \nSingle node jobs, some of which may be attributable to high throughput computing, represent a small fraction (less than 2%) of the total node hours consumed on Blue Waters.\nFor XE node jobs, all of the major science areas (&gt; 1 million node hours) run a mix of job sizes and all have very large jobs (&gt; 4096 nodes). The relative proportions of job size vary between different parent science areas.  The job size distribution weighted by node hours consumed peaks at 1025 &ndash; 2048 for XE jobs.   The largest 3% of the jobs (by node hours) account for 90% of the total node-hours consumed.\nThe majority of XE node hours on the machine are spent running parallel jobs that use some form of message passing for inter-process communication. At least 25% of the workload uses some form of threading, however the larger jobs (&gt; 4096 nodes) mostly use message passing with no threading.  There is no obvious trend in the variation of thread usage over time, however, thread usage information is only available for a short time period.\nFor the XK (GPU) nodes, the parent sciences Molecular Biosciences, Chemistry and Physics are the largest users with NAMD and AMBER the two most prevalent applications. The job size distribution weighted by node hours consumed peaks at 65 &ndash; 128 nodes for the XK jobs.   Similarly to the XE nodes, the largest 7% of the jobs (by node-hour) account for 90% of the node-hours consumed on the XK nodes.\nThe aggregate GPU utilization (efficiency) varies significantly by application. \n\n\nMemory Usage\n\nMost jobs that run on the XE nodes use less than 50% of the memory available on the node.  However, the distribution of memory use has a substantial tail to higher memory usage.  \nMost jobs that run on the XK nodes use less than 25% of the available memory in the node with a short tail to higher usage. \nGPU memory usage is very small with few jobs using more than 1GB per GPU. \nThe XE and XK nodes show no historical differences in memory use from year to year. \nFor almost all applications and parent fields of science, memory usage has not changed over time.\n\n\nStorage and I/O\n\nOn average Blue Waters? three filesystems have a balanced reads/writes ratio with large fluctuations. The volume of traffic on the largest filesystem peaks at 10PB per month.\nUsers? jobs exhibit a wide range of I/O patterns. \nOverall there is a tendency to use a very large number of small files, which is a challenge for many parallel file systems.\nRead and write rates stay significantly below possible peak filesystem performance. \nUser jobs spend a very small fraction of time in filesystem I/O operations\nMany jobs utilize specialized libraries for their I/O operations \n\n\n\t\t\t\t\tLast Modified: 03/03/2017\n\n\t\t\t\t\tSubmitted by: Thomas R Furlani"
 }
}