{
 "awd_id": "1639698",
 "agcy_id": "NSF",
 "tran_type": "Grant",
 "awd_istr_txt": "Standard Grant",
 "awd_titl_txt": "EarthCube Building Blocks: Collaborative Proposal: The Power of Many: Ensemble Toolkit for Earth Sciences",
 "cfda_num": "47.050",
 "org_code": "06010000",
 "po_phone": null,
 "po_email": "",
 "po_sign_block_name": "Eva Zanzerkia",
 "awd_eff_date": "2016-09-01",
 "awd_exp_date": "2020-08-31",
 "tot_intn_awd_amt": 339754.0,
 "awd_amount": 339754.0,
 "awd_min_amd_letter_date": "2016-09-08",
 "awd_max_amd_letter_date": "2016-09-08",
 "awd_abstract_narration": "The study of hazards and renewable energy are paramount for the development and sustainability of society. Similarly, the emergence of new climatic patterns pose new challenges for future societal planning.  Geospatial data are being generated at unprecedented rate exceeding our analysis capabilities and leading towards a data-rich but knowledge-poor environment.  The use of advanced computing tools and techniques are playing an increasingly important role in contributing to solutions to problems of societal importance. This project will create specialized computational tools that will enhance the ability of scientists to effectively and efficiently study natural hazards and renewable energy. The use of these tools will support novel methods and the use of powerful computing resources in ways that are not currently possible.\r\n\r\nMany scientific applications in the geosciences are increasingly reliant on \"ensemble-based\" methods to make scientific progress.  This is true for applications that are both net producers of data, as well as aggregate consumers of data.   In response to the growing importance and pervasiveness of ensemble-based applications and analysis, and to address the challenges of scale, simplicity and flexibility, the research team will develop the Ensemble Toolkit for Earth Sciences.  The Ensemble Toolkit will provide an important addition to the set of capabilities and tools that will enable the geosciences community to use high-performance computing resources more efficiently, effectively and in an extensible fashion. This project represents the co-design of Ensemble Toolkit for Earth Sciences and is a collective effort of an interdisciplinary team of cyberinfrastructure and domain scientists. It will also support the integration of the Ensemble Toolkit with a range of science applications, as well as its use in solving scientific problems of significant societal impact that are currently unable to utilize the collective capacity of supercomputers, campus clusters and clouds",
 "awd_arra_amount": 0.0,
 "dir_abbr": "GEO",
 "org_dir_long_name": "Directorate for Geosciences",
 "div_abbr": "RISE",
 "org_div_long_name": "Integrative and Collaborative Education and Research (ICER)",
 "awd_agcy_code": "4900",
 "fund_agcy_code": "4900",
 "pi": [
  {
   "pi_role": "Principal Investigator",
   "pi_first_name": "Jeroen",
   "pi_last_name": "Tromp",
   "pi_mid_init": "",
   "pi_sufx_name": "",
   "pi_full_name": "Jeroen Tromp",
   "pi_email_addr": "jtromp@princeton.edu",
   "nsf_id": "000199944",
   "pi_start_date": "2016-09-08",
   "pi_end_date": null
  },
  {
   "pi_role": "Co-Principal Investigator",
   "pi_first_name": "Matthieu",
   "pi_last_name": "Lefebvre",
   "pi_mid_init": "",
   "pi_sufx_name": "",
   "pi_full_name": "Matthieu Lefebvre",
   "pi_email_addr": "ml15@princeton.edu",
   "nsf_id": "000719596",
   "pi_start_date": "2016-09-08",
   "pi_end_date": null
  }
 ],
 "inst": {
  "inst_name": "Princeton University",
  "inst_street_address": "1 NASSAU HALL",
  "inst_street_address_2": "",
  "inst_city_name": "PRINCETON",
  "inst_state_code": "NJ",
  "inst_state_name": "New Jersey",
  "inst_phone_num": "6092583090",
  "inst_zip_code": "085442001",
  "inst_country_name": "United States",
  "cong_dist_code": "12",
  "st_cong_dist_code": "NJ12",
  "org_lgl_bus_name": "THE TRUSTEES OF PRINCETON UNIVERSITY",
  "org_prnt_uei_num": "",
  "org_uei_num": "NJ1YPQXQG7U5"
 },
 "perf_inst": {
  "perf_inst_name": "Princeton Institute for Computational Science and Engineering",
  "perf_str_addr": "Lewis Science Library",
  "perf_city_name": "Princeton",
  "perf_st_code": "NJ",
  "perf_st_name": "New Jersey",
  "perf_zip_code": "085441028",
  "perf_ctry_code": "US",
  "perf_cong_dist": "12",
  "perf_st_cong_dist": "NJ12",
  "perf_ctry_name": "United States",
  "perf_ctry_flag": "1"
 },
 "pgm_ele": [
  {
   "pgm_ele_code": "807400",
   "pgm_ele_name": "EarthCube"
  }
 ],
 "pgm_ref": [
  {
   "pgm_ref_code": "7433",
   "pgm_ref_txt": "CyberInfra Frmwrk 21st (CIF21)"
  }
 ],
 "app_fund": [
  {
   "app_code": "0116",
   "app_name": "NSF RESEARCH & RELATED ACTIVIT",
   "app_symb_id": "040100",
   "fund_code": "01001617DB",
   "fund_name": "NSF RESEARCH & RELATED ACTIVIT",
   "fund_symb_id": "040100"
  }
 ],
 "oblg_fy": [
  {
   "fund_oblg_fiscal_yr": 2016,
   "fund_oblg_amt": 339754.0
  }
 ],
 "por": {
  "por_cntn": "<div class=\"porColContainerWBG\">\n<div class=\"porContentCol\"><p><span id=\"docs-internal-guid-dbd4e0b5-7fff-d78e-9884-e20023f97029\"> </span></p>\n<p dir=\"ltr\"><span>Power of Many: Final Report</span></p>\n<p>Many scientific problems require multiple distinct computational tasks to be executed in order to achieve a desired solution. The primary objective of this project was the co-design and development of the&nbsp; Ensemble-Toolkit (EnTK) for Earth Sciences, so as to advance a range of scientific problems that required the scalable execution of ensemble-based applications.&nbsp; EnTK was designed to address the challenges of scale, diversity, and reliability that many ensembles at scale require.&nbsp;</p>\n<p dir=\"ltr\"><span>This project: (i) analyzed and iteratively, improved multiple possible design and implementation choice of EnTK; (ii) characterized its performance and integrated it with two distinct exemplar use cases: seismic inversion and adaptive analog ensembles.&nbsp; This led to an understanding of EnTK overheads, strong and weak scalability, and the performance of two use case implementations, at scale and on production infrastructures. We engineered EnTK to address the stated requirements.</span></p>\n<p dir=\"ltr\"><span>We applied these engineering advances in EnTK to deliver the following general computational capabilities: (i) Implemented an interface to support the description and execution of ensemble applications; (ii) Support for execution on heterogeneous computing infrastructures; (iii) efficient scalability up to ten-thousand ensemble members; and (iv) fault tolerance.&nbsp; This project enabled EnTK to be classified as an important addition to the suite of tools in support of production scientific computing for the earth sciences.</span></p>\n<p dir=\"ltr\"><span>In addition to the design and implementation of EnTK, the major earth science achievements of this project were:&nbsp;</span></p>\n<ol>\n<li dir=\"ltr\">\n<p dir=\"ltr\"><span>Analog Ensemble (AnEn) has been shown to be a highly scalable solution as an ensemble forecasting technique. The fact that it searches for historical weather analogs independently at each model simulation grid enables its efficient parallelization. AnEn is able to handle the increasing resolutions in recent Numerical Weather Prediction models (NWP) and to generate forecasts with high spatial and temporal resolution due to its effectiveness in computation. An efficient implementation of the AnEn technique was developed with OpenMPI/OpenMP and EnTK on Cheyenne -- an important high-performance computer in Geosciences built for the National Center of Atmospheric Research (NCAR). The forecast ensemble is coupled to a photovoltaic (PV) energy simulator, together with other weather variable predictions including wind speed and ambient temperature, to generate the simulated PV energy ensemble. EnTK, in this workflow, knits together weather forecasting and power simulation. It distributes workload onto the supercomputer and the entire simulation has been separated and parallelized across geographic locations. This ensemble is generated based on the historical archive of the operational model WRF NAM and it does not require multiple runs of the computationally expensive weather mode.</span></p>\n</li>\n<li dir=\"ltr\">\n<p dir=\"ltr\"><span>EnTK was deployed on Summit at the Oak Ridge Leadership Computing Facility to manage the workflow associated with a large-scale global tomographic inversion. Data from more than 2,000 earthquakes recorded by more than 10,000 seismographic stations were assimilated to construct tomographic images of Earth?s mantle. The inversion workflow is prone to human error and hardware failure, making it fragile. For these reasons we hardened the workflow by using EnTK to automatically detect job failures both from the HPC system and via user-defined functions. This enables us to keep track of all tasks and semi-automatically resubmit jobs if necessary. Given that most HPC system time is spent waiting in the job queue, automatic failure detection and relaunching greatly shortens the overall time to solution.&nbsp;</span></p>\n</li>\n</ol>\n<p>&nbsp;</p>\n<p>&nbsp;</p>\n<p>&nbsp;</p><br>\n<p>\n\t\t\t\t      \tLast Modified: 01/08/2021<br>\n\t\t\t\t\tModified by: Jeroen&nbsp;Tromp</p>\n</div>\n<div class=\"porSideCol\"></div>\n</div>",
  "por_txt_cntn": "\n \nPower of Many: Final Report\n\nMany scientific problems require multiple distinct computational tasks to be executed in order to achieve a desired solution. The primary objective of this project was the co-design and development of the  Ensemble-Toolkit (EnTK) for Earth Sciences, so as to advance a range of scientific problems that required the scalable execution of ensemble-based applications.  EnTK was designed to address the challenges of scale, diversity, and reliability that many ensembles at scale require. \nThis project: (i) analyzed and iteratively, improved multiple possible design and implementation choice of EnTK; (ii) characterized its performance and integrated it with two distinct exemplar use cases: seismic inversion and adaptive analog ensembles.  This led to an understanding of EnTK overheads, strong and weak scalability, and the performance of two use case implementations, at scale and on production infrastructures. We engineered EnTK to address the stated requirements.\nWe applied these engineering advances in EnTK to deliver the following general computational capabilities: (i) Implemented an interface to support the description and execution of ensemble applications; (ii) Support for execution on heterogeneous computing infrastructures; (iii) efficient scalability up to ten-thousand ensemble members; and (iv) fault tolerance.  This project enabled EnTK to be classified as an important addition to the suite of tools in support of production scientific computing for the earth sciences.\nIn addition to the design and implementation of EnTK, the major earth science achievements of this project were: \n\n\nAnalog Ensemble (AnEn) has been shown to be a highly scalable solution as an ensemble forecasting technique. The fact that it searches for historical weather analogs independently at each model simulation grid enables its efficient parallelization. AnEn is able to handle the increasing resolutions in recent Numerical Weather Prediction models (NWP) and to generate forecasts with high spatial and temporal resolution due to its effectiveness in computation. An efficient implementation of the AnEn technique was developed with OpenMPI/OpenMP and EnTK on Cheyenne -- an important high-performance computer in Geosciences built for the National Center of Atmospheric Research (NCAR). The forecast ensemble is coupled to a photovoltaic (PV) energy simulator, together with other weather variable predictions including wind speed and ambient temperature, to generate the simulated PV energy ensemble. EnTK, in this workflow, knits together weather forecasting and power simulation. It distributes workload onto the supercomputer and the entire simulation has been separated and parallelized across geographic locations. This ensemble is generated based on the historical archive of the operational model WRF NAM and it does not require multiple runs of the computationally expensive weather mode.\n\n\nEnTK was deployed on Summit at the Oak Ridge Leadership Computing Facility to manage the workflow associated with a large-scale global tomographic inversion. Data from more than 2,000 earthquakes recorded by more than 10,000 seismographic stations were assimilated to construct tomographic images of Earth?s mantle. The inversion workflow is prone to human error and hardware failure, making it fragile. For these reasons we hardened the workflow by using EnTK to automatically detect job failures both from the HPC system and via user-defined functions. This enables us to keep track of all tasks and semi-automatically resubmit jobs if necessary. Given that most HPC system time is spent waiting in the job queue, automatic failure detection and relaunching greatly shortens the overall time to solution. \n\n\n\n \n\n \n\n \n\n\t\t\t\t\tLast Modified: 01/08/2021\n\n\t\t\t\t\tSubmitted by: Jeroen Tromp"
 }
}