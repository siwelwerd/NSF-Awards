{
 "awd_id": "1717997",
 "agcy_id": "NSF",
 "tran_type": "Grant",
 "awd_istr_txt": "Standard Grant",
 "awd_titl_txt": "III: Small: Improving Technical Paper Database Search through Math-Aware Search Engines",
 "cfda_num": "47.070",
 "org_code": "05020000",
 "po_phone": "7032927347",
 "po_email": "sspengle@nsf.gov",
 "po_sign_block_name": "Sylvia Spengler",
 "awd_eff_date": "2017-12-01",
 "awd_exp_date": "2022-01-31",
 "tot_intn_awd_amt": 498928.0,
 "awd_amount": 498928.0,
 "awd_min_amd_letter_date": "2017-12-01",
 "awd_max_amd_letter_date": "2017-12-01",
 "awd_abstract_narration": "Today's search engines make use of sophisticated techniques for searching based upon words, but are not able to make nuanced use of mathematical notation.  This project aims to allow scientists, engineers, mathematicians, and students to locate technical information using words, mathematical notation, or some of each.  For example, a mathematician studying graph theory could use these new capabilities to find related applications in physics, ecology, and social network analysis, despite any differences in the notation and terminology used in those disciplines. Given a large collection of technical documents, we will apply machine learning techniques to construct associations between the formulae and words used to explain mathematical ideas, and determine how to translate automatically between those two forms of expression.  These associations and translations can then be used by students who write what they are looking for using words, with the search engine finding documents that express those same ideas, even if only in mathematical notation.  These new math-aware search engines will accelerate innovation by allowing searchers to discover information both across technical disciplines and, by using mathematical notation as a pivot, even across human languages.\r\n\r\nTo accomplish these goals, the project will develop novel scalable techniques for indexing and retrieval of mathematical content in technical documents. These methods will accommodate a broad range of notational conventions, formats, and encodings.  New context-based methods for inferring associations between formulae and related text will be used to build rich and flexible models of content equivalence.  These equivalence models will be used in new ranking algorithms that integrate results found using words or using mathematical notation into a single ranked list.  Open-source reference implementations will be shared publicly, and new test collections created to evaluate these implementations will be shared with other researchers.  To gain experience with the use of these new capabilities, the project will add math-aware search to the CiteSeerX digital library of scientific literature. CiteSeerX is an open Web service that can be used to compare alternative retrieval methods in actual use.  For further information see the project Web page: https://www.cs.rit.edu/~dprl/math-aware-search.html.",
 "awd_arra_amount": 0.0,
 "dir_abbr": "CSE",
 "org_dir_long_name": "Directorate for Computer and Information Science and Engineering",
 "div_abbr": "IIS",
 "org_div_long_name": "Division of Information & Intelligent Systems",
 "awd_agcy_code": "4900",
 "fund_agcy_code": "4900",
 "pi": [
  {
   "pi_role": "Principal Investigator",
   "pi_first_name": "Richard",
   "pi_last_name": "Zanibbi",
   "pi_mid_init": "",
   "pi_sufx_name": "",
   "pi_full_name": "Richard Zanibbi",
   "pi_email_addr": "rlaz@cs.rit.edu",
   "nsf_id": "000152665",
   "pi_start_date": "2017-12-01",
   "pi_end_date": null
  },
  {
   "pi_role": "Co-Principal Investigator",
   "pi_first_name": "Anurag",
   "pi_last_name": "Agarwal",
   "pi_mid_init": "",
   "pi_sufx_name": "",
   "pi_full_name": "Anurag Agarwal",
   "pi_email_addr": "axasma@rit.edu",
   "nsf_id": "000555626",
   "pi_start_date": "2017-12-01",
   "pi_end_date": null
  }
 ],
 "inst": {
  "inst_name": "Rochester Institute of Tech",
  "inst_street_address": "1 LOMB MEMORIAL DR",
  "inst_street_address_2": "",
  "inst_city_name": "ROCHESTER",
  "inst_state_code": "NY",
  "inst_state_name": "New York",
  "inst_phone_num": "5854757987",
  "inst_zip_code": "146235603",
  "inst_country_name": "United States",
  "cong_dist_code": "25",
  "st_cong_dist_code": "NY25",
  "org_lgl_bus_name": "ROCHESTER INSTITUTE OF TECHNOLOGY",
  "org_prnt_uei_num": "",
  "org_uei_num": "J6TWTRKC1X14"
 },
 "perf_inst": {
  "perf_inst_name": "Rochester Institute of Tech",
  "perf_str_addr": "",
  "perf_city_name": "",
  "perf_st_code": "NY",
  "perf_st_name": "New York",
  "perf_zip_code": "146235608",
  "perf_ctry_code": "US",
  "perf_cong_dist": "25",
  "perf_st_cong_dist": "NY25",
  "perf_ctry_name": "United States",
  "perf_ctry_flag": "1"
 },
 "pgm_ele": [
  {
   "pgm_ele_code": "736400",
   "pgm_ele_name": "Info Integration & Informatics"
  }
 ],
 "pgm_ref": [
  {
   "pgm_ref_code": "7364",
   "pgm_ref_txt": "INFO INTEGRATION & INFORMATICS"
  },
  {
   "pgm_ref_code": "7923",
   "pgm_ref_txt": "SMALL PROJECT"
  }
 ],
 "app_fund": [
  {
   "app_code": "0118",
   "app_name": "NSF RESEARCH & RELATED ACTIVIT",
   "app_symb_id": "040100",
   "fund_code": "01001819DB",
   "fund_name": "NSF RESEARCH & RELATED ACTIVIT",
   "fund_symb_id": "040100"
  }
 ],
 "oblg_fy": [
  {
   "fund_oblg_fiscal_yr": 2018,
   "fund_oblg_amt": 498928.0
  }
 ],
 "por": {
  "por_cntn": "<div class=\"porColContainerWBG\">\n<div class=\"porContentCol\"><div class=\"page\" title=\"Page 2\">\n<div class=\"section\" style=\"background-color: rgb(100.000000%, 100.000000%, 100.000000%);\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>The <a title=\"MathSeer Project\" href=\"https://www.cs.rit.edu/~dprl/mathseer/\" target=\"_blank\">MathSeer</a> project, funded jointly by the NSF and Alfred P. Sloan Foundation, sought to create new math-aware search engines and interfaces to fully support formulas as well as text in searching technical documents (e.g., research papers, and math course materials), intended for use by mathematical non-experts. Our slogan was 'Math search for the masses.'</p>\n<p><span style=\"font-size: 10.000000pt; font-family: 'ArialMT';\"><strong>Products. </strong>By the end of the project, the MathSeer project had produced the following. Note that source code for all software described is available as open source from <a title=\"DPRL GitLab Page\" href=\"https://gitlab.com/dprl\">GitLab</a>.<br /></span></p>\n<ol style=\"list-style-type: decimal;\">\n<li style=\"font-size: 10.000000pt; font-family: 'ArialMT';\">\n<p><span style=\"font-size: 10.000000pt; font-family: 'ArialMT';\"><strong>ARQMath Collection</strong>. A dataset created over three years through international competitions run by the MathSeer team for the CLEF conference. The collection was built from a large collection of Math Stack Exchange posts. <a title=\"ARQMath Web Page\" href=\"https://www.cs.rit.edu/~dprl/ARQMath/\" target=\"_blank\">ARQMath</a> contains over 200 search topics (queries + scored results) for both math question answer retrieval and formula search tasks. ARQMath is the largest collection of its type, already serving as an international benchmark. </span></p>\n</li>\n<li style=\"font-size: 10.000000pt; font-family: 'ArialMT';\">\n<p><span style=\"font-size: 10.000000pt; font-family: 'ArialMT';\"><strong>Graphics Extraction and Retrieval Framework</strong>. PDFs generally contain drawing instructions and images, with no indication of where formula regions are located. To address this, we created a framework to detect and recognize math formulas in PDFs. The framework includes new detectors for math formulas in document images (ScanSSD and a Yolov4 variant), and a math formula parsing technique designed to work for handwriting, images, and PDF symbols extracted directly from PDF documents (QD-GGA). We also created a tool for extracting symbol locations from PDF documents accurately (SymbolScraper). SymbolScraper works well enough that it was used in creating Allen AI's initial <a title=\"Semantic Scholar Project \" href=\"https://www.semanticscholar.org/product/semantic-reader\" target=\"_blank\">Semantic Reader</a> prototype. In addition, we have created a framework that supports the execution of queries combining text and formulas, when queries are represented in text with formulas in LaTeX format.<br /></span></p>\n</li>\n<li style=\"font-size: 10.000000pt; font-family: 'ArialMT';\">\n<p><span style=\"font-size: 10.000000pt; font-family: 'ArialMT';\"><strong>MathDeck. </strong>We created a novel search interface to make it easier to create, edit, and use formulas in search queries. This led us to create both a new structure-based formlua editor supporting both visual operations and LaTeX, and the representation of formluas in 'chips' that can be used both in search and editing, allowing formulas to literally be built in pieces, and to move parts of formulas around. We also devised formula entity cards, which contain a functional formula 'chip' put on a card with a description from wikipedia attached. These cards appear during editing, as a form of information-rich  autocompletion for formulas. Both chips and cards can be edited, saved, shared, and reused. A news story on MathDeck appeared in ACM TechNews in 2020 (<a title=\"ACM TechNews MathDeck Story\" href=\"https://cacm.acm.org/news/245864-rit-researchers-create-easy-to-use-math-aware-search-interface/fulltext?mobile=false\" target=\"_blank\">story</a>).<br /></span></p>\n</li>\n<li style=\"font-size: 10.000000pt; font-family: 'ArialMT';\">\n<p><span style=\"font-size: 10.000000pt; font-family: 'ArialMT';\"><strong>A variety of state-of-the-art formula retrieval model</strong>s, including neural embeddings, spatial pyramid representations of symbols that can be used with standard search engine construction frameworks (PHOC), learning-to-rank models for combining representations, and a new multmodal representation for text <strong>and</strong> math, that captures the argument structure of formulas and words in sentences in a uniform representation (MathAMR). MathAMR is adapted from Abstract Meaning Representation graphs used in Natural Language Processing (NLP).<br /></span></p>\n</li>\n</ol>\n<p><strong>Publications. </strong>The project produced 28 peer-reviewed publications, and received two best paper awards (ICFHR 2018, ECIR 2019) and another best paper nomination at JCDL 2019. A number of papers appeared in top venues spanning different areas of computer science, including SIGIR, CHI, and CVPR.</p>\n<p><strong>Project Members. </strong>The project involved the participation of 20 students and 1 full-time research programmer between 2017 and 2022. The project provided a collaborative, suportive environment to develop research skills for students from the community college level through PhD. PhDs from the project have gone on to faculty positions and research posts in industry; a number of PhD and Master's students held industrial research internships, and some Master's students went on to work in industrial research as well. Companies that students went to intern and work for include Amazon, Apple, Microsoft, and start-up companies such as Petuum.</p>\n<p><strong>Next Steps. </strong>The <a title=\"dprl web page\" href=\"https://www.cs.rit.edu/~dprl/index.html\" target=\"_blank\">Document and Pattern Recognition Lab</a> at RIT is currently working to extend the systems and tools created for MathSeer to chemistry, in support of another NSF-funded project, the <a title=\"MMLI Web Page\" href=\"https://moleculemaker.org/\" target=\"_blank\">MMLI</a> NSF AI Center. The project has explored new directions to advance the development of graphics-aware search engines, which we believe have a very bright future.</p>\n</div>\n</div>\n</div>\n</div><br>\n<p>\n\t\t\t\t      \tLast Modified: 07/10/2022<br>\n\t\t\t\t\tModified by: Richard&nbsp;Zanibbi</p>\n</div>\n<div class=\"porSideCol\">\n<div class=\"each-gallery\">\n<div class=\"galContent\" id=\"gallery0\">\n<div class=\"photoCount\" id=\"photoCount0\">\n\t\t\t\t\t\t\t\t\tImages (<span id=\"selectedPhoto0\">1</span> of <span class=\"totalNumber\"></span>)\t\t\n\t\t\t\t\t\t\t\t</div>\n<div class=\"galControls\" id=\"controls0\"></div>\n<div class=\"galSlideshow\" id=\"slideshow0\"></div>\n<div class=\"galEmbox\" id=\"embox\">\n<div class=\"image-title\"></div>\n</div>\n</div>\n<div class=\"galNavigation\" id=\"navigation0\">\n<ul class=\"thumbs\" id=\"thumbs0\">\n<li>\n<a href=\"/por/images/Reports/POR/2022/1717997/1717997_10525310_1657483615879_ScreenShot2022-07-10at12.35.14PMcopy--rgov-214x142.jpg\" original=\"/por/images/Reports/POR/2022/1717997/1717997_10525310_1657483615879_ScreenShot2022-07-10at12.35.14PMcopy--rgov-800width.jpg\" title=\"MathDeck Search Interface\"><img src=\"/por/images/Reports/POR/2022/1717997/1717997_10525310_1657483615879_ScreenShot2022-07-10at12.35.14PMcopy--rgov-66x44.jpg\" alt=\"MathDeck Search Interface\"></a>\n<div class=\"imageCaptionContainer\">\n<div class=\"imageCaption\">Formulas are created using a canvas, the LaTeX panel at right, formulas in tabs, and 'chips' on the canvas and card 'deck' at bottom. Cards update for the current formula, and can be clicked to reveal descriptions. Chips and keywords can be added to the query bar, and then sent to a search engine.</div>\n<div class=\"imageCredit\">Yancarlos Diaz</div>\n<div class=\"imagePermisssions\">Copyrighted</div>\n<div class=\"imageSubmitted\">Richard&nbsp;Zanibbi</div>\n<div class=\"imageTitle\">MathDeck Search Interface</div>\n</div>\n</li>\n<li>\n<a href=\"/por/images/Reports/POR/2022/1717997/1717997_10525310_1657476304079_ScreenShot2022-07-10at12.26.30PMcopy--rgov-214x142.jpg\" original=\"/por/images/Reports/POR/2022/1717997/1717997_10525310_1657476304079_ScreenShot2022-07-10at12.26.30PMcopy--rgov-800width.jpg\" title=\"Approach0 Formula Retrieval Model\"><img src=\"/por/images/Reports/POR/2022/1717997/1717997_10525310_1657476304079_ScreenShot2022-07-10at12.26.30PMcopy--rgov-66x44.jpg\" alt=\"Approach0 Formula Retrieval Model\"></a>\n<div class=\"imageCaptionContainer\">\n<div class=\"imageCaption\">Example of retrieving formulas in Approach0 by matching leaf-root paths in trees followed by expression matching. In this example, after matching the largest common subexpression, e.g., a+bc (shown in blue), the remaining largest common subexpression is xy (shown in green).</div>\n<div class=\"imageCredit\">Wei Zhong</div>\n<div class=\"imageSubmitted\">Richard&nbsp;Zanibbi</div>\n<div class=\"imageTitle\">Approach0 Formula Retrieval Model</div>\n</div>\n</li>\n<li>\n<a href=\"/por/images/Reports/POR/2022/1717997/1717997_10525310_1657482707067_ScreenShot2022-07-10at3.36.52PM--rgov-214x142.jpg\" original=\"/por/images/Reports/POR/2022/1717997/1717997_10525310_1657482707067_ScreenShot2022-07-10at3.36.52PM--rgov-800width.jpg\" title=\"QD-GGA\"><img src=\"/por/images/Reports/POR/2022/1717997/1717997_10525310_1657482707067_ScreenShot2022-07-10at3.36.52PM--rgov-66x44.jpg\" alt=\"QD-GGA\"></a>\n<div class=\"imageCaptionContainer\">\n<div class=\"imageCaption\">Handwritten formula parsing: a graph over all stroke pairs is pruned, keeping only strokes that 'see' one another (LOS). Strokes are then classified for symbol and relationship probabilities, strokes belonging to one symbol are merged, and the maximum probability interpretation is selected.</div>\n<div class=\"imageCredit\">Mahshad Mahdavi</div>\n<div class=\"imagePermisssions\">Copyrighted</div>\n<div class=\"imageSubmitted\">Richard&nbsp;Zanibbi</div>\n<div class=\"imageTitle\">QD-GGA</div>\n</div>\n</li>\n<li>\n<a href=\"/por/images/Reports/POR/2022/1717997/1717997_10525310_1657483169379_ScreenShot2022-07-10at12.32.23PMcopy--rgov-214x142.jpg\" original=\"/por/images/Reports/POR/2022/1717997/1717997_10525310_1657483169379_ScreenShot2022-07-10at12.32.23PMcopy--rgov-800width.jpg\" title=\"XY-PHOC Pyramidal Histogram of Character Embedding\"><img src=\"/por/images/Reports/POR/2022/1717997/1717997_10525310_1657483169379_ScreenShot2022-07-10at12.32.23PMcopy--rgov-66x44.jpg\" alt=\"XY-PHOC Pyramidal Histogram of Character Embedding\"></a>\n<div class=\"imageCaptionContainer\">\n<div class=\"imageCaption\">XY-PHOC binary vector illustration (5 levels). Level numbers indicate the number of regions in horizontal and vertical (') directions. Symbols belong to all regions intersecting a line at the vertical center of their bounding box. Symbol region memberships are shown using sets.</div>\n<div class=\"imageCredit\">Robin Avenoso</div>\n<div class=\"imagePermisssions\">Copyrighted</div>\n<div class=\"imageSubmitted\">Richard&nbsp;Zanibbi</div>\n<div class=\"imageTitle\">XY-PHOC Pyramidal Histogram of Character Embedding</div>\n</div>\n</li>\n<li>\n<a href=\"/por/images/Reports/POR/2022/1717997/1717997_10525310_1657483413424_ScreenShot2022-07-10at12.47.10PMcopy--rgov-214x142.jpg\" original=\"/por/images/Reports/POR/2022/1717997/1717997_10525310_1657483413424_ScreenShot2022-07-10at12.47.10PMcopy--rgov-800width.jpg\" title=\"ScanSSD Formula Detection\"><img src=\"/por/images/Reports/POR/2022/1717997/1717997_10525310_1657483413424_ScreenShot2022-07-10at12.47.10PMcopy--rgov-66x44.jpg\" alt=\"ScanSSD Formula Detection\"></a>\n<div class=\"imageCaptionContainer\">\n<div class=\"imageCaption\">Document page images are cut into overlapping windows, and a Single-Shot Detector neural net computes detections in each window. Detections are then stitched together across windows, and refined based on detection probabilities for the final result.</div>\n<div class=\"imageCredit\">Parag Mali</div>\n<div class=\"imagePermisssions\">Copyrighted</div>\n<div class=\"imageSubmitted\">Richard&nbsp;Zanibbi</div>\n<div class=\"imageTitle\">ScanSSD Formula Detection</div>\n</div>\n</li>\n<li>\n<a href=\"/por/images/Reports/POR/2022/1717997/1717997_10525310_1657476099094_ScreenShot2022-07-10at12.21.50PMcopy--rgov-214x142.jpg\" original=\"/por/images/Reports/POR/2022/1717997/1717997_10525310_1657476099094_ScreenShot2022-07-10at12.21.50PMcopy--rgov-800width.jpg\" title=\"Example ARQMath XML Topic Files\"><img src=\"/por/images/Reports/POR/2022/1717997/1717997_10525310_1657476099094_ScreenShot2022-07-10at12.21.50PMcopy--rgov-66x44.jpg\" alt=\"Example ARQMath XML Topic Files\"></a>\n<div class=\"imageCaptionContainer\">\n<div class=\"imageCaption\">Formula queries for Task 2 (at bottom) are taken from Math Stack Exchange question post queries for Task 1 (at top). Here, ARQMath-3 formula topic B.384 is a copy of ARQMath-3 question topic A.384 with two additional fields for the query formula (1) identifier, and (2) LaTeX.</div>\n<div class=\"imageCredit\">Behrooz Mansouri</div>\n<div class=\"imagePermisssions\">Copyrighted</div>\n<div class=\"imageSubmitted\">Richard&nbsp;Zanibbi</div>\n<div class=\"imageTitle\">Example ARQMath XML Topic Files</div>\n</div>\n</li>\n</ul>\n</div>\n</div>\n</div>\n</div>",
  "por_txt_cntn": "\n\n\n\n\nThe MathSeer project, funded jointly by the NSF and Alfred P. Sloan Foundation, sought to create new math-aware search engines and interfaces to fully support formulas as well as text in searching technical documents (e.g., research papers, and math course materials), intended for use by mathematical non-experts. Our slogan was 'Math search for the masses.'\n\nProducts. By the end of the project, the MathSeer project had produced the following. Note that source code for all software described is available as open source from GitLab.\n\n\n\n\nARQMath Collection. A dataset created over three years through international competitions run by the MathSeer team for the CLEF conference. The collection was built from a large collection of Math Stack Exchange posts. ARQMath contains over 200 search topics (queries + scored results) for both math question answer retrieval and formula search tasks. ARQMath is the largest collection of its type, already serving as an international benchmark. \n\n\n\nGraphics Extraction and Retrieval Framework. PDFs generally contain drawing instructions and images, with no indication of where formula regions are located. To address this, we created a framework to detect and recognize math formulas in PDFs. The framework includes new detectors for math formulas in document images (ScanSSD and a Yolov4 variant), and a math formula parsing technique designed to work for handwriting, images, and PDF symbols extracted directly from PDF documents (QD-GGA). We also created a tool for extracting symbol locations from PDF documents accurately (SymbolScraper). SymbolScraper works well enough that it was used in creating Allen AI's initial Semantic Reader prototype. In addition, we have created a framework that supports the execution of queries combining text and formulas, when queries are represented in text with formulas in LaTeX format.\n\n\n\n\nMathDeck. We created a novel search interface to make it easier to create, edit, and use formulas in search queries. This led us to create both a new structure-based formlua editor supporting both visual operations and LaTeX, and the representation of formluas in 'chips' that can be used both in search and editing, allowing formulas to literally be built in pieces, and to move parts of formulas around. We also devised formula entity cards, which contain a functional formula 'chip' put on a card with a description from wikipedia attached. These cards appear during editing, as a form of information-rich  autocompletion for formulas. Both chips and cards can be edited, saved, shared, and reused. A news story on MathDeck appeared in ACM TechNews in 2020 (story).\n\n\n\n\nA variety of state-of-the-art formula retrieval models, including neural embeddings, spatial pyramid representations of symbols that can be used with standard search engine construction frameworks (PHOC), learning-to-rank models for combining representations, and a new multmodal representation for text and math, that captures the argument structure of formulas and words in sentences in a uniform representation (MathAMR). MathAMR is adapted from Abstract Meaning Representation graphs used in Natural Language Processing (NLP).\n\n\n\n\nPublications. The project produced 28 peer-reviewed publications, and received two best paper awards (ICFHR 2018, ECIR 2019) and another best paper nomination at JCDL 2019. A number of papers appeared in top venues spanning different areas of computer science, including SIGIR, CHI, and CVPR.\n\nProject Members. The project involved the participation of 20 students and 1 full-time research programmer between 2017 and 2022. The project provided a collaborative, suportive environment to develop research skills for students from the community college level through PhD. PhDs from the project have gone on to faculty positions and research posts in industry; a number of PhD and Master's students held industrial research internships, and some Master's students went on to work in industrial research as well. Companies that students went to intern and work for include Amazon, Apple, Microsoft, and start-up companies such as Petuum.\n\nNext Steps. The Document and Pattern Recognition Lab at RIT is currently working to extend the systems and tools created for MathSeer to chemistry, in support of another NSF-funded project, the MMLI NSF AI Center. The project has explored new directions to advance the development of graphics-aware search engines, which we believe have a very bright future.\n\n\n\n\n\n\t\t\t\t\tLast Modified: 07/10/2022\n\n\t\t\t\t\tSubmitted by: Richard Zanibbi"
 }
}